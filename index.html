<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini‑Jocuri Edu</title>
  <link rel="stylesheet" href="./assets/css/base.css" />
  <link rel="stylesheet" href="./assets/css/home.css" />
  <link rel="stylesheet" href="./assets/avatar/avatar.css" />
</head>
<body>
  <header>
    <div class="bar">
      <div class="brand">Mini‑<span>Jocuri</span> • Edu</div>
      <div class="scoreboard">
        <div class="pill" id="totalPoints" aria-live="polite">⭐ Puncte: 0</div>
        <div class="pill" id="totalCandies" aria-live="polite">🍬 Bomboane: 0</div>
        <button class="btn secondary" id="btnAvatar">🧒 Avatar</button>
      </div>
    </div>
    <div class="bar sub">
      <nav class="breadcrumb" id="breadcrumb" aria-label="Breadcrumb">
        <span>Meniu</span>
      </nav>
      <div class="actions">
        <button class="btn" id="btnDaily">🎁 Recompensa zilnică</button>
        <button class="btn secondary" id="btnConvert">↔️ Convertă puncte → bomboane</button>
      </div>
    </div>
  </header>

  <main>
    <div id="menu" class="panel" role="region" aria-label="Lista jocuri">
      <div class="menu-grid">
        <div class="card">
          <h3>Rățuște pe nuferi 🦆</h3>
          <p>Sari pe numărul corect afișat sus.</p>
          <button class="btn" data-game="ducks">Joacă</button>
        </div>
        <div class="card">
          <h3>Adunări & Scăderi 🍬</h3>
          <p>Rezolvă corect și câștigă bomboane!</p>
          <button class="btn" data-game="math">Joacă</button>
        </div>
        <div class="card">
          <h3>Balonul potrivit 🎈</h3>
          <p>Sparge balonul cu cifra țintă.</p>
          <button class="btn" data-game="balloons">Joacă</button>
        </div>
        <div class="card">
          <h3>Vânătoarea de comori 💎</h3>
          <p>Găsește cutia cu numărul corect.</p>
          <button class="btn" data-game="treasure">Joacă</button>
        </div>
      </div>
    </div>

    <!-- Panouri Avatar: Magazin & Dulap -->
    <div id="shop" class="panel" style="display:none;">
      <h2>🛍️ Magazin</h2>
      <p class="muted">Cumpără haine folosind 🍬 bomboane.</p>
      <div id="shopGrid" class="menu-grid"></div>
    </div>

    <div id="closet" class="panel" style="display:none;">
      <h2>👗 Dulap</h2>
      <p class="muted">Item-uri deținute. Echiparea se aplică instant în jocuri.</p>
      <div id="closetGrid" class="menu-grid"></div>
    </div>

    <iframe id="gameFrame" title="Zonă joc" style="width:100%;height:600px;border:none;display:none;"></iframe>
  </main>

  <footer>
    <div class="bar">
      <span class="muted">© 2025 Mini‑Jocuri Edu</span>
      <button class="btn secondary" id="btnMenu">⟵ Meniu</button>
    </div>
  </footer>

  <!-- Modal Avatar -->
  <div id="avatarModal" class="modal-root" hidden>
    <div class="modal-card">
      <div class="modal-title">Avatarul meu</div>
      <div class="gender-toggle" id="genderToggle" role="tablist" aria-label="Alege genul">
        <button data-avatar="boy" role="tab" aria-selected="true">👦 Băiat</button>
        <button data-avatar="girl" role="tab" aria-selected="false">👧 Fată</button>
      </div>
      <div class="modal-body">
        <div id="avatarPreview" class="avatar-preview" aria-label="Previzualizare avatar">👦</div>
        <div class="avatar-actions">
          <button class="btn" id="btnOpenShop">🛍️ Magazin</button>
          <button class="btn secondary" id="btnOpenCloset">👗 Dulap</button>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn secondary" id="btnCloseAvatar">Închide</button>
      </div>
    </div>
  </div>

  <!-- Toasts -->
  <div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>

  <!-- Scripturi -->
  <script src="./assets/js/config.js"></script>
  <script src="./assets/js/state.js"></script>
  <script src="./assets/js/ui.js"></script>
  <script src="./assets/js/daily.js"></script>
  <script src="./assets/js/bus.js"></script>
  <!-- Avatar modul -->
  <script src="./assets/avatar/config.js"></script>
  <script src="./assets/avatar/store.js"></script>
  <script src="./assets/avatar/ui.js"></script>
  <script src="./assets/avatar/modal.js"></script>
  <!-- Main app -->
  <script src="./assets/js/main.js"></script>
</body>
</html>